<%= render 'shared/errors', model: @resident %>

<div class="card mb-3">
  <div class="card-body text-center">
    <h1 class="mb-3">Cadastrar Moradia</h1>
    <h3 class="mb-3">Escolha uma unidade para cadastrar a residência do morador <%= @resident.full_name %></h3>
    <p class='mb-4 bold'>Morador: <%= @resident.full_name %> de CPF: <%= @resident.registration_number %> e e-mail: <%= @resident.email %></p>
  </div>
</div>

<div class="card mb-3 shadow-sm">
  <div class="card-body text-center">
    <%= form_with model: @resident, url: resident_tenants_path(@resident), method: :post, class: 'text-center' do |f| %>

      <div data-controller="resident">
        <div class="mb-3 row mt-3">
          <%= f.label :condo_id, class: 'col-sm-2 col-form-label text-end' %>
          <div class="col-sm-10"><%= f.collection_select :condo_id, @condos, :id, :name, {}, :'data-resident-target' => "condo", :'data-action' => "change->resident#changeCondo", class: 'form-control form-select' %></div> 
        </div>
        <div class="mb-3 row">
          <%= f.label :tower_id, class: 'col-sm-2 col-form-label text-end' %>
          <div class="col-sm-10"><%= f.collection_select :tower_id, {}, {}, {}, {}, :'data-resident-target' => "tower", :'data-action' => "change->resident#changeTower", class: 'form-control form-select' %></div> 
        </div>
        <div class="mb-3 row">
          <%= f.label :floor, class: 'col-sm-2 col-form-label text-end' %>
          <div class="col-sm-10"><%= f.collection_select :floor, {}, {}, {}, {}, :'data-resident-target' => "floor", class: 'form-control form-select' %></div>
        </div>
        <div class="mb-3 row">
          <%= f.label :unit, class: 'col-sm-2 col-form-label text-end' %>
          <div class="col-sm-10"><%= f.collection_select :unit, {}, {}, {}, {}, :'data-resident-target' => "unit", class: 'form-control form-select' %></div>
        </div>
      </div>

      <div class="form-group mb-3">
        <%= f.submit class:"btn btn-dark" %>
        <%= f.submit 'Não residente neste condomínio', class:'btn btn-danger' %>
      </div>
    <% end %>
  </div>
</div>