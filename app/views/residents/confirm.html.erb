<%= render 'shared/errors', model: @resident %>

<h1 class="mb-4">Confirme o seu cadastro</h1>

<div class='d-flex flex-column mb-3 w-100 p-3'>
  <div class="d-flex justify-content-between">
    <div class="card mb-3 w-50 mx-1">
      <div class="card-body text-center">
        <h1 class="mb-3">Nome Completo: <%= @resident.full_name %></h1>
        <h3 class="mb-3">E-mail: <%= @resident.email %></h3>
        <p class='mb-4 bold'>CPF: <%= @resident.registration_number %></p>
      </div>
    </div>

    <div class="card mb-3 w-50 mx-1">
      <div class="card-body text-center residence">
          <% if @resident.residence %>
            <h3 class="mb-3">Residência em:</h3>
            <h5 class="mb-3">Condomínio: <%= @resident.residence.condo.name %></h5>
            <p class='mb-4 bold'>Torre: <%= @resident.residence.tower.name%></p>
            <p class='mb-4 bold'>Unidade: <%= @resident.residence.short_identifier%></p>
          <% else %>
            <h4 class="mb-3">Não reside no condomínio</h4>
          <% end %>
      </div>
    </div>
  </div>


  <div class="card mb-3 mx-1">
    <div class="card-body text-center">
      <% if @resident.units.any? %>
        <h2>Lista de propriedades</h2>
        <div class="container">
          <div class="row mb-3 units-array">
            <% @resident.units.each do |unit| %>
              <div class="col-md-4 col-lg-2 mb-4 unit">
                <div class="card h-100">
                  <div class="card-body text-center">
                    <h5 class="card-title">Condomínio: <%= unit.condo.name %></h5>
                    <p class="card-text">Torre: <%= unit.tower.name %></p>
                    <p class="card-text">Unidade: <%= unit.short_identifier %></p>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% else %>
        <h4 class="mb-3">Não possui propriedades no condomínio</h4>
      <% end %>
    </div>
  </div>


  <div class="card mb-3 mx-1">
    <div class="card-body text-center">
    <h2>Inserir imagem</h2>
      <%= form_with(model: @resident, class: 'text-center') do |f| %>
        <div class="mb-3 row">
          <%= f.label :user_image, class: 'col-sm-2 col-form-label' %>
          <div class="col-sm-10"><%= f.file_field :user_image, class: 'form-control' %></div>
        </div>
        <%= f.submit "Confirmar Dados", class: 'btn btn-primary' %>
      <% end %>
    </div>
  </div>  
</div>

